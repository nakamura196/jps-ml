(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{386:function(t,e,n){"use strict";n.r(e);n(19),n(20),n(4),n(52),n(26),n(27);var r=n(16),l=n(28),o=n(25),c=n(22),d=n(12),v=n(14),m=n(54),h=n(94),f=n.n(h);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var l=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,l)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var y=function(t,e,n,desc){var r,l=arguments.length,o=l<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(o=(l<3?r(o):l>3?r(e,n,o):r(e,n))||o);return l>3&&o&&Object.defineProperty(e,n,o),o},k=function(t){Object(o.a)(n,t);var e=_(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).title="",t.text="",t.results={},t.inputImage=null,t.uploadFile=null,t.uploadImageUrl="",t.loadingFlag=!1,t.tab=0,t.samples=[{title:"Sword Guard (Tsuba)",text:"Classification: Tsuba\nCredit Line: The Howard Mansfield Collection, Gift of Howard Mansfield, 1936\nCulture: Japanese\nDepartment: Arms and Armor\nDimensions: Diam. 3 3/16 in. (8.1 cm); thickness 3/16 in. (0.5 cm); Wt. 3.5 oz. (99.2 g)\nMedium: Iron, copper\nObject ID: 30060\nObject Name: Sword guard (Tsuba)",url:"https://images.metmuseum.org/CRDImages/aa/web-thumb/36.120.57_001mar2014.jpg"},{title:"netsuke",text:"Description: 1936.21.0009\nDescription: Japan\nDescription: Liggande bock, som tittar bakåt över sin egen rygg. Enligt katalogen kamoshika, men det verkar inte stämma med hornens utformning. Hjortar betyder höst och vemod, särskilt kärlekssorg, men också symbol för långt liv.\nMediaType: IMAGE\neuropeanaCollectionName: 91619_Ag_SE_SwedishNationalHeritage_smvk-em\nid: 91619_SMVK_EM_objekt_1000932",url:"https://api.europeana.eu/api/v2/thumbnail-by-url.json?uri=http%3A%2F%2Fcollections.smvk.se%2Fcarlotta-em%2Fweb%2Fimage%2Fzoom%2F1837468%2Fimage.jpg&type=IMAGE"},{title:"Rumoi, Rumoi [Sub]prefecture. Hokkaido, Japan",text:"Description: Map — col. map. 56 x 53 cm.\nDocmeta: 1st ed.-AMS 1. - Washington, 1945.",url:"https://stacks.stanford.edu/image/iiif/bp444yn9111%2Fbp444yn9111_0001/full/!200,200/0/default.jpg"},{title:"石とプルナスの装飾が施されたカップ柿右衛門タイプ",text:'collection: Japanese Art\ncreditline: Bequest of Mrs. Severance A. Millikin\nculture: Japan, Edo Period (1615-1868)\nid: 154654\nmeasurements: Diameter: 10.5 cm (4 1/8 in.); Overall: 5.8 cm (2 5/16 in.)\ntechnique: porcelain with underglaze blue and overglaze enamel decoration, cursive "fuku" mark in underglaze blue\ntombstone: Cup with Rock and Prunus Decoration: Kakiemon Type, 18th century. Japan, Edo Period (1615-1868). Porcelain with underglaze blue and overglaze enamel decoration, cursive "fuku" mark in underglaze blue; diameter: 10.5 cm (4 1/8 in.); overall: 5.8 cm (2 5/16 in.). The Cleveland Museum of Art, Bequest of Mrs. Severance A. Millikin 1989.256\ntype: Ceramic',url:"https://openaccess-cdn.clevelandart.org/1989.256/1989.256_web.jpg"},{title:"マスク",text:"Description: 1901.24.0008\nDescription: Japan\nDescription: Mask till no-spel. (generalkatalogen)\nMediaType: IMAGE\neuropeanaCollectionName: 91619_Ag_SE_SwedishNationalHeritage_smvk-em\nid: 91619_SMVK_EM_objekt_1201810",url:"https://api.europeana.eu/api/v2/thumbnail-by-url.json?uri=http%3A%2F%2Fcollections.smvk.se%2Fcarlotta-em%2Fweb%2Fimage%2Fzoom%2F1201812%2F1901.24.0008.jpg&type=IMAGE"}],t}return Object(l.a)(n,[{key:"head",value:function(){return{titleTemplate:null}}},{key:"selectedFile",value:function(t){var e=this;if(null!=t){if(t.name.lastIndexOf(".")<=0)return;var n=new FileReader;n.readAsDataURL(t),n.addEventListener("load",(function(){e.uploadImageUrl=n.result}))}else this.uploadImageUrl=""}},{key:"post",value:function(){var t=this;this.results={},this.loadingFlag=!0;var u="https://diyhistory.org/c.php/http://diyhistory.org:8023/ml",title=this.title,text=this.text;if(this.inputImage){var e=new FormData;e.append("uploadFile",this.inputImage),e.append("text",text),e.append("title",title),e.append("url",this.uploadImageUrl);var n=this;f.a.post(u,e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){var r=e.data;for(var l in r){for(var o=r[l],c=[],i=0;i<o.length;i++){var d=o[i],v=t.orgRound(Number(d.prob),2);v>0&&c.push({name:"第"+(i+1)+"候補",label:d.label,prob:v})}r[l]=c}n.results=r,n.loadingFlag=!1}))}else{var r={text:text,title:title,url:this.uploadImageUrl},l=this;f.a.get(u,{params:r}).then((function(e){var n=e.data;for(var r in n){for(var o=n[r],c=[],i=0;i<o.length;i++){var d=o[i],v=t.orgRound(Number(d.prob),2);v>0&&c.push({name:"第"+(i+1)+"候補",label:d.label,prob:v})}n[r]=c}l.results=n,l.loadingFlag=!1}))}}},{key:"orgRound",value:function(t,e){return Math.floor(t*Math.pow(10,e))/Math.pow(10,e)}}]),n}(m.Vue),x=k=y([m.Component],k),C=n(44),w=n(73),F=n.n(w),j=n(316),I=n(336),M=n(337),V=n(376),R=n(332),D=n(377),A=n(378),E=n(379),S=n(380),O=n(387),T=n(199),P=n(141),U=n(381),z=n(40),J=n(382),$=n(383),H=n(385),N=n(335),G=n(384),component=Object(C.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",[n("v-expansion-panels",{staticClass:"my-10"},[n("v-expansion-panel",[n("v-expansion-panel-header",{staticClass:"primary white--text"},[t._v("\n            "+t._s(t.$t("example"))+"\n          ")]),t._v(" "),n("v-expansion-panel-content",[n("v-row",t._l(t.samples,(function(e,r){return n("v-col",{key:r,attrs:{cols:"3",sm:"2"}},[n("v-img",{attrs:{contain:"","max-height":"200px",src:e.url},on:{click:function(n){t.uploadImageUrl=e.url,t.text=e.text,t.title=e.title}}})],1)})),1)],1)],1)],1),t._v(" "),n("v-card",{staticClass:"my-10"},[n("v-card-title",{staticClass:"primary white--text"},[t._v("\n          "+t._s(t.$t("検索条件"))+"\n        ")]),t._v(" "),n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"4"}},[n("v-card",{staticClass:"mb-5",attrs:{outlined:""}},[n("v-card-title",{staticClass:"grey lighten-2"},[t._v("\n                  "+t._s(t.$t("title"))+"\n                ")]),t._v(" "),n("v-container",[n("v-text-field",{attrs:{placeholder:"桐壺",outlined:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("v-card",{staticClass:"mb-5",attrs:{outlined:""}},[n("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("\n                  "+t._s(t.$t("text"))+"\n                ")]),t._v(" "),n("v-container",[n("v-textarea",{attrs:{placeholder:"書名：源氏物語\n書名ヨミ：ゲンジ モノガタリ\n請求記号：A00:6587\n一般注記：青洲文庫書名は帙題簽による\n巻次は題簽による\n責任表示は『日本古典籍総合目録データベース』による\n朱筆書き入れあり\n虫損あり\n旧請求記号 E23:48",outlined:"","auto-grow":""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("v-card",{staticClass:"mb-5",attrs:{outlined:""}},[n("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("\n                  "+t._s(t.$t("image"))+"\n                ")]),t._v(" "),n("v-container",[n("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",[t._v("画像のURLを貼り付け")]),t._v(" "),n("v-tab",[t._v("画像のアップロード")])],1),t._v(" "),0==t.tab?n("div",[n("v-text-field",{staticClass:"mt-5",attrs:{placeholder:"http://..."},model:{value:t.uploadImageUrl,callback:function(e){t.uploadImageUrl=e},expression:"uploadImageUrl"}})],1):t._e(),t._v(" "),1==t.tab?n("div",[n("v-file-input",{staticClass:"mt-5",attrs:{accept:"image/*","show-size":"",label:"画像ファイルをアップロードしてください","prepend-icon":"mdi-image",type:"file"},on:{change:t.selectedFile},model:{value:t.inputImage,callback:function(e){t.inputImage=e},expression:"inputImage"}})],1):t._e(),t._v(" "),n("v-sheet",{staticClass:"pa-4",attrs:{color:"grey lighten-3"}},[n("v-row",{staticClass:"my-5",attrs:{align:"center",justify:"center"}},[n("v-img",{attrs:{contain:"","max-height":"200px",src:t.uploadImageUrl}})],1)],1)],1)],1)],1)],1),t._v(" "),n("v-btn",{staticClass:"mt-5",attrs:{block:"",color:"success",dark:""},on:{click:t.post}},[t._v(t._s(t.$t("predict")))])],1)],1),t._v(" "),n("v-card",{staticClass:"my-10"},[n("v-card-title",{staticClass:"primary white--text"},[t._v("\n          "+t._s(t.$t("検索結果"))+"\n        ")]),t._v(" "),n("v-container",[t.loadingFlag?n("div",{staticClass:"text-center py-10"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):t._e(),t._v(" "),n("v-row",t._l(["title","text","image"],(function(e,r){return n("v-col",{key:r,attrs:{cols:"12",sm:"4"}},[t.results[e]&&t.results[e].length>0?n("v-card",{staticClass:"mb-5",attrs:{outlined:""}},[n("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("\n                  "+t._s(t.$t(e))+"\n                ")]),t._v(" "),n("v-container",[n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"}),t._v(" "),n("th",{staticClass:"text-left"},[t._v("タイプ")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("確信度（0-1）")])])]),t._v(" "),n("tbody",t._l(t.results[e],(function(e){return n("tr",{key:e.name},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[t._v(t._s(e.label))]),t._v(" "),n("td",[t._v(t._s(e.prob))])])})),0)]},proxy:!0}],null,!0)})],1)],1):t._e()],1)})),1)],1)],1),t._v(" "),n("v-expansion-panels",{staticClass:"my-10"},[n("v-expansion-panel",[n("v-expansion-panel-header",{staticClass:"primary white--text"},[t._v(t._s(t.$t("reference")))]),t._v(" "),n("v-expansion-panel-content",[n("v-container",{staticClass:"py-5"},[n("ul",[n("li",[n("a",{attrs:{target:"_blank",href:"https://docs.google.com/spreadsheets/d/1ZXmqqhMofYFgy-f1VAhvYnUwpvcXPJJR7pY2ftjfBCw/edit?usp=sharing"}},[t._v("学習曲線")])]),t._v(" "),n("li",[n("a",{attrs:{target:"_blank",href:"https://www.kanzaki.com/works/2016/pub/image-annotator?u=https://raw.githubusercontent.com/nakamura196/testet/master/t2.json"}},[t._v("教師データ")])])])])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;F()(component,{VBtn:j.a,VCard:I.a,VCardTitle:M.a,VCol:V.a,VContainer:R.a,VExpansionPanel:D.a,VExpansionPanelContent:A.a,VExpansionPanelHeader:E.a,VExpansionPanels:S.a,VFileInput:O.a,VImg:T.a,VProgressCircular:P.a,VRow:U.a,VSheet:z.a,VSimpleTable:J.a,VTab:$.a,VTabs:H.a,VTextField:N.a,VTextarea:G.a})}}]);